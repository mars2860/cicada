1 byte - код команды
N byte - данные команды

Формат команды - Номер команды + [длина поля в байтах](описание поля)

Везде первым идёт младший байт

Коды команд:

100 + [1](uint8_t) - включить/выключить двигатели
101 + [16](int32_t,int32_t,int32_t,int32_t) - установить скорость вращения двигателей
102 + [6](int16_t,int16_t,int16_t) - установить смещение для акселерометра
103 + [6](int16_t,int16_t,int16_t) - установить смещение для гироскопа
104 + [18](int16_t,int16_t,int16_t,float,float,float) - установить смещение и масштабирование для магнетометра
105 + [0] - калибровать акселерометр алгоритмом i2cdevlib
106 + [0] - калибровать гироскоп алгоритмом i2cdevlib
107 + [13](uint8_t - on/off, float - Kp, float - Ki, float - Kd) - установить параметры ПИД-регулятора по углу Yaw
108 + [13](uint8_t - on/off, float - Kp, float - Ki, float - Kd) - установить параметры ПИД-регулятора по углу Pitch
109 + [13](uint8_t - on/off, float - Kp, float - Ki, float - Kd) - установить параметры ПИД-регулятора по углу Roll
110 + [13](uint8_t - on/off, float - Kp, float - Ki, float - Kd) - установить параметры ПИД-регулятора по высоте
111 + [12](float,float,float) - заданные углы yaw, pitch, roll для стабилизации
112 + [8](uint32_t,uint32_t) - период отправки пакета телеметрии, период обновления ПИД регуляторов
113 + [1](uint8_t) - включить/выключить стабилизацию
114 + [0] - сбрасывает текущую высоту в ноль
115 + [4](float) - устанавливает давление на высоте 0
116 + [4](float) - устанавливает высоту зависания над землей (метры)

Телеметрия [кол-во байт](Описание)

[4](Напряжение батареи, float)
[4](Заряд батареи в процентах, float)
[4](Уровень сигнала WiFi, , int32_t)
[2](Текущие показания акселерометра по X, int16_t)
[2](Текущие показания акселерометра по Y, int16_t)
[2](Текущие показания акселерометра по Z, int16_t)
[2](Текущие показания гироскопа по X, int16_t)
[2](Текущие показания гироскопа по Y, int16_t)
[2](Текущие показания гироскопа по Z, int16_t)
[2](Текущие показания магнетометра по X, int16_t)
[2](Текущие показания магнетометра по Y, int16_t)
[2](Текущие показания магнетометра по Z, int16_t)
[2](Текущее смещение акселерометра по X, int16_t)
[2](Текущее смещение акселерометра по Y, int16_t)
[2](Текущее смещение акселерометра по Z, int16_t)
[2](Текущее смещение гироскопа по X, int16_t)
[2](Текущее смещение гироскопа по Y, int16_t)
[2](Текущее смещение гироскопа по Z, int16_t)
[2](Текущее смещение магнетометра по X, int16_t)
[2](Текущее смещение магнетометра по Y, int16_t)
[2](Текущее смещение магнетометра по Z, int16_t)
= 48 байта
[4](Текущее масштабирование магнетометра по X, float)
[4](Текущее масштабирование магнетометра по Y, float)
[4](Текущее масштабирование магнетометра по Z, float)
[4](Рысканье (Yaw), радианы, float)
[4](Тангаж (Pitch), радианы, float)
[4](Крен (Roll), радианы, float)
= 72 байт
[4](Магнитный азимут, радианы, float)
[1](Yaw ПИД-регулятор включен или нет,uint8_t)
[4](Kp Yaw-ПИД-регулятора,float)
[4](Ki Yaw-ПИД-регулятора,float)
[4](Kd Yaw-ПИД-регулятора,float)
[4](Заданный угол Yaw, float)
[1](Pitch ПИД-регулятор включен или нет,uint8_t)
[4](Kp Pitch-ПИД-регулятора,float)
[4](Ki Pitch-ПИД-регулятора,float)
[4](Kd Pitch-ПИД-регулятора,float)
= 104 байт
[4](Заданный угол Pitch, float)
[1](Roll-ПИД-регулятор включен или нет,uint8_t)
[4](Kp Roll-ПИД-регулятора,float)
[4](Ki Roll-ПИД-регулятора,float)
[4](Kd Roll-ПИД-регулятора,float)
[4](Заданный угол Roll, float)
[1](Alt-ПИД-регулятор включен или нет,uint8_t)
[4](Kp Alt-ПИД-регулятора,float)
[4](Ki Alt-ПИД-регулятора,float)
[4](Kd Alt-ПИД-регулятора,float)
[4](Заданная высота, float)
[1](Двигатели включены, uint8_t)
[4](Motor0 Gas, int32_t)
[4](Motor1 Gas, int32_t)
[4](Motor2 Gas, int32_t)
[4](Motor3 Gas, int32_t)
= 159 байт
[4](Период отправки пакета телеметрии, uint32_t)
[4](Период обновления ПИД регуляторов, uint32_t)
[1](Стабилизация включена,uint8_t)
= 169 байта
[4](Выход Yaw-ПИД, float)
[4](Выход Pitch-ПИД, float)
[4](Выход Roll-ПИД, float)
[4](Выход Alt-ПИД, float)
= 184 байт
[4](Время работы одного цилка прошивки, микросекунды, uint32_t)
= 188 байт
[4](Температура окружающей среды, float)
[4](Давление окружающей среды, hPa, float)
[4](Высота, метры, float)
[4](Давление на высоте 0, float)
= 204 байт